<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONTACT US | PRASARNWITTAYA SCHOOL | STUDENT COUNCIL 2024</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #1e40af;
            --accent-yellow: #facc15;
            --pure-white: #ffffff;
            --urgent-red: #dc2626;
        }

        body {
            font-family: 'Kanit', sans-serif;
            background-color: #f8fafc;
            -webkit-font-smoothing: antialiased;
        }

        .bg-custom-blue { background-color: var(--primary-blue); }
        .text-custom-blue { color: var(--primary-blue); }
        .bg-custom-yellow { background-color: var(--accent-yellow); }

        .contact-card:hover {
            transform: translateY(-5px);
            transition: all 0.3s ease;
        }

        .go-back-btn:hover {
            background-color: var(--accent-yellow);
            color: var(--primary-blue);
            transform: translateX(-5px);
        }
        
        .header-container {
            position: relative;
            z-index: 10;
        }

        .urgent-badge {
            background-color: var(--urgent-red);
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            will-change: opacity, transform;
            animation: soft-pulse 2s infinite ease-in-out;
        }

        @keyframes soft-pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.85; transform: scale(1.03); }
        }

        .img-container {
            aspect-ratio: 16 / 9;
            background-color: #e2e8f0;
        }

        /* Language Switcher Styles */
        .lang-btn {
            transition: all 0.2s;
            opacity: 0.6;
        }
        .lang-btn.active {
            opacity: 1;
            font-weight: bold;
            text-decoration: underline;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header Section -->
    <header class="bg-custom-blue text-white pt-8 pb-20 px-4 relative overflow-hidden">
        <div class="max-w-6xl mx-auto mb-6 header-container flex justify-between items-center">
            <a href="index.html" class="go-back-btn inline-flex items-center space-x-2 bg-white/10 text-white px-5 py-2.5 rounded-full transition-all border border-white/20 text-sm font-medium backdrop-blur-sm">
                <i class="fas fa-arrow-left"></i>
                <span data-i18n="goBack">GO BACK</span>
            </a>

            <!-- Language Switcher -->
            <div class="flex space-x-3 text-sm font-medium bg-black/20 p-1 rounded-lg backdrop-blur-sm border border-white/10">
                <button onclick="changeLang('th')" id="lang-th" class="lang-btn px-2 py-1 rounded active">TH</button>
                <button onclick="changeLang('en')" id="lang-en" class="lang-btn px-2 py-1 rounded">EN</button>
                <button onclick="changeLang('zh')" id="lang-zh" class="lang-btn px-2 py-1 rounded">ZH</button>
            </div>
        </div>

        <div class="max-w-6xl mx-auto text-center relative z-10">
            <h2 class="text-xl font-medium mb-2 tracking-widest text-custom-yellow uppercase" data-i18n="contactUsTitle">Contact Us</h2>
            <h1 class="text-3xl md:text-5xl font-bold mb-4 tracking-tight leading-tight" data-i18n="schoolName">
                " STUDENT COUNCIL OF <br class="md:hidden"> PRASARNWITTAYA SCHOOL (2024) "
            </h1>
        </div>

        <div class="absolute -bottom-16 -right-16 w-64 h-64 bg-yellow-400 opacity-10 rounded-full"></div>
        <div class="absolute -top-16 -left-16 w-48 h-48 bg-white opacity-5 rounded-full"></div>
    </header>

    <main class="max-w-6xl mx-auto px-4 -mt-10 mb-20 relative z-20">
        
        <!-- Image Promotion Section -->
        <div class="mb-12">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="relative img-container overflow-hidden">
                    <img src="45year.jpg" 
                         onerror="this.src='https://images.unsplash.com/photo-1523050853063-88032e8314dd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'"
                         alt="PRASARN REUNION 45 ปี คืนสู่เหย้าชาวประสาร" 
                         class="w-full h-full object-cover">
                </div>
                
                <div class="p-6 md:p-8 bg-gradient-to-b from-white to-yellow-50 border-t border-yellow-100">
                    <div class="flex flex-col items-center space-y-6">
                        <div class="text-center space-y-4">
                            <div class="flex items-center justify-center">
                                <span class="urgent-badge text-xs md:text-sm">
                                    <i class="fas fa-exclamation-circle mr-2"></i><span data-i18n="urgent">ด่วนที่สุด!</span>
                                </span>
                            </div>
                            <h3 class="text-2xl md:text-3xl font-bold text-blue-900 tracking-tight" data-i18n="eventTitle">
                                45 ปี คืนสู่เหย้าชาวประสาร
                            </h3>
                            <p class="text-lg md:text-xl text-gray-700 flex items-center justify-center font-medium">
                                <i class="far fa-calendar-check text-custom-blue mr-2"></i>
                                <span data-i18n="eventDate">วันเสาร์ที่ 17 มกราคม 2569</span>
                            </p>
                        </div>
                        
                        <div class="flex flex-col sm:flex-row justify-center gap-4 w-full sm:w-auto">
                            <a href="45th-years-anniversary.html" class="inline-flex items-center justify-center px-8 py-3 bg-custom-blue text-white rounded-xl hover:bg-blue-800 transition-all shadow-lg hover:shadow-blue-200 text-base font-semibold group">
                                <i class="fas fa-ticket-alt mr-2 group-hover:rotate-12 transition-transform"></i>
                                <span data-i18n="btnTickets">ดูรายละเอียดงานและการจองบัตร</span>
                            </a>
                            <a href="45th-years-anniversary.html" class="inline-flex items-center justify-center px-8 py-3 bg-white text-blue-900 border-2 border-custom-blue rounded-xl hover:bg-blue-50 transition-all shadow-md text-base font-semibold">
                                <i class="fas fa-search-plus mr-2"></i>
                                <span data-i18n="btnInfo">ข้อมูลโครงการเพิ่มเติม</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-1 space-y-6">
                <!-- Phone Card -->
                <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-custom-yellow contact-card border border-gray-100">
                    <div class="flex items-start space-x-4">
                        <div class="bg-blue-100 p-3 rounded-full text-custom-blue text-xl mt-1">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-900 text-base md:text-lg" data-i18n="phoneLabel">โทรศัพท์ (โรงเรียนประสารวิทยา)</h3>
                            <p class="text-gray-600 mt-1 font-medium">(044) 411 377</p>
                            <p class="text-gray-600 font-medium">(+66) 086 369 0405</p>
                        </div>
                    </div>
                </div>

                <!-- Office Card -->
                <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-custom-yellow contact-card border border-gray-100">
                    <div class="flex items-start space-x-4">
                        <div class="bg-blue-100 p-3 rounded-full text-custom-blue text-xl mt-1">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-900 text-base md:text-lg" data-i18n="addressLabel">ที่อยู่โรงเรียนประสารวิทยา</h3>
                            <p class="text-gray-600 mt-1 leading-relaxed" data-i18n="addressDetail">
                                162/5 หมู่ที่ 14 ต.สีคิ้ว <br>
                                อ.สีคิ้ว จ.นครราชสีมา 30140
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="lg:col-span-2">
                <div class="bg-white p-8 md:p-10 rounded-2xl shadow-xl border border-gray-100 h-full">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="w-2 h-8 bg-custom-yellow mr-3 rounded-full"></span>
                        <span data-i18n="formTitle">ข้อเสนอแนะ / ติชม</span>
                    </h2>
                    
                    <form id="contactForm" onsubmit="handleSubmit(event)" class="space-y-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2" data-i18n="labelEmail">อีเมล</label>
                            <input type="email" name="email" required class="w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all font-light outline-none" id="inputEmail">
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2" data-i18n="labelSubject">หัวข้อเรื่อง</label>
                            <input type="text" name="subject" required class="w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all font-light outline-none" id="inputSubject">
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2" data-i18n="labelMessage">ข้อความ</label>
                            <textarea name="message" rows="4" required class="w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all font-light outline-none resize-none" id="inputMessage"></textarea>
                        </div>

                        <button type="submit" class="w-full bg-custom-blue hover:bg-blue-900 text-white font-bold py-4 rounded-lg shadow-lg hover:shadow-xl transition-all flex items-center justify-center space-x-2 active:scale-[0.98]">
                            <span class="text-lg" data-i18n="btnSubmit">ส่งข้อมูล</span>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>

                    <div id="successMessage" class="hidden mt-6 p-4 bg-green-100 border border-green-200 text-green-700 rounded-lg text-center animate-bounce" data-i18n="msgSuccess">
                        <i class="fas fa-check-circle mr-2"></i> ขอบคุณสำหรับข้อเสนอแนะ! ทางสภานักเรียนได้รับข้อมูลเรียบร้อยแล้ว
                    </div>

                    <div id="errorMessage" class="hidden mt-6 p-4 bg-red-100 border border-red-200 text-red-700 rounded-lg text-center" data-i18n="msgError">
                        <i class="fas fa-times-circle mr-2"></i> เกิดข้อผิดพลาด กรุณาลองใหม่ในภายหลัง
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Map Section -->
    <section class="max-w-6xl mx-auto px-4 mb-20">
        <a href="https://maps.app.goo.gl/gydsCgtzD3yooRSo6" target="_blank" class="block rounded-2xl overflow-hidden shadow-lg h-80 bg-gray-200 relative flex items-center justify-center border border-gray-100 group transition-all">
             <div class="absolute inset-0 bg-blue-900/5 group-hover:bg-blue-900/0 transition-colors"></div>
             
             <div class="text-center p-6 relative z-10 transition-transform group-hover:scale-110 duration-300">
                <i class="fas fa-map-marked-alt text-5xl text-blue-800 mb-3 drop-shadow-sm"></i>
                <p class="text-gray-700 font-medium text-lg" data-i18n="mapLabel">โรงเรียนประสารวิทยา อ.สีคิ้ว จ.นครราชสีมา</p>
                <div class="mt-3 inline-flex items-center space-x-2 bg-custom-blue text-white px-6 py-2 rounded-full text-sm font-semibold shadow-md group-hover:bg-blue-700 transition-colors">
                    <i class="fas fa-directions"></i>
                    <span data-i18n="btnMap">ดูเส้นทางบน Google Maps</span>
                </div>
             </div>
        </a>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-100 py-10 border-t border-gray-200">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p class="text-gray-600 text-sm font-light" data-i18n="footer">
                © 2026 STUDENT COUNCIL OF PRASARNWITTAYA SCHOOL. ALL RIGHTS RESERVED
            </p>
        </div>
    </footer>

    <script>
        const translations = {
            th: {
                goBack: "ย้อนกลับ",
                contactUsTitle: "Contact Us",
                schoolName: 'สภานักเรียนโรงเรียนประสารวิทยา (2024)',
                urgent: "ด่วนที่สุด!",
                eventTitle: "45 ปี คืนสู่เหย้าชาวประสาร",
                eventDate: "วันเสาร์ที่ 17 มกราคม 2569",
                btnTickets: "ดูรายละเอียดงานและการจองบัตร",
                btnInfo: "ข้อมูลโครงการเพิ่มเติม",
                phoneLabel: "โทรศัพท์ (โรงเรียนประสารวิทยา)",
                addressLabel: "ที่อยู่โรงเรียนประสารวิทยา",
                addressDetail: "162/5 หมู่ที่ 14 ต.สีคิ้ว <br> อ.สีคิ้ว จ.นครราชสีมา 30140",
                formTitle: "ข้อเสนอแนะ / ติชม",
                labelEmail: "อีเมล",
                labelSubject: "หัวข้อเรื่อง",
                labelMessage: "ข้อความ",
                btnSubmit: "ส่งข้อมูล",
                placeholderEmail: "ระบุอีเมลของคุณเพื่อการติดต่อกลับ",
                placeholderSubject: "ระบุหัวข้อที่คุณต้องการติดต่อ",
                placeholderMessage: "รายละเอียดข้อเสนอแนะหรือติชม...",
                msgSuccess: "ขอบคุณสำหรับข้อเสนอแนะ! ทางสภานักเรียนได้รับข้อมูลเรียบร้อยแล้ว",
                msgError: "เกิดข้อผิดพลาด กรุณาลองใหม่ในภายหลัง",
                mapLabel: "โรงเรียนประสารวิทยา อ.สีคิ้ว จ.นครราชสีมา",
                btnMap: "ดูเส้นทางบน Google Maps",
                footer: "© 2026 STUDENT COUNCIL OF PRASARNWITTAYA SCHOOL. ALL RIGHTS RESERVED"
            },
            en: {
                goBack: "GO BACK",
                contactUsTitle: "Contact Us",
                schoolName: 'STUDENT COUNCIL OF PRASARNWITTAYA SCHOOL (2024)',
                urgent: "URGENT!",
                eventTitle: "45 Years Prasarn Reunion",
                eventDate: "Saturday, January 17, 2026",
                btnTickets: "Ticket & Event Details",
                btnInfo: "Project Information",
                phoneLabel: "Phone (Prasarnwittaya School)",
                addressLabel: "School Address",
                addressDetail: "162/5 Moo 14, Sikhiu <br> Sikhiu, Nakhon Ratchasima 30140",
                formTitle: "Feedback / Contact Form",
                labelEmail: "Email",
                labelSubject: "Subject",
                labelMessage: "Message",
                btnSubmit: "Submit",
                placeholderEmail: "Your email for contact",
                placeholderSubject: "What is this about?",
                placeholderMessage: "Your feedback or message...",
                msgSuccess: "Thank you! We have received your feedback.",
                msgError: "Something went wrong. Please try again later.",
                mapLabel: "Prasarnwittaya School, Sikhiu, Korat",
                btnMap: "Get Directions on Google Maps",
                footer: "© 2026 STUDENT COUNCIL OF PRASARNWITTAYA SCHOOL. ALL RIGHTS RESERVED"
            },
            zh: {
                goBack: "返回",
                contactUsTitle: "联系我们",
                schoolName: '普拉讪威塔亚学校学生会 (2024)',
                urgent: "紧急！",
                eventTitle: "45周年校友返校聚会",
                eventDate: "2026年1月17日 星期六",
                btnTickets: "查看活动详情和订票",
                btnInfo: "更多项目信息",
                phoneLabel: "电话 (普拉讪威塔亚学校)",
                addressLabel: "学校地址",
                addressDetail: "162/5 Moo 14, Sikhiu <br> Sikhiu, Nakhon Ratchasima 30140",
                formTitle: "意见反馈 / 建议",
                labelEmail: "电子邮件",
                labelSubject: "主题",
                labelMessage: "消息内容",
                btnSubmit: "提交",
                placeholderEmail: "您的联系邮箱",
                placeholderSubject: "联系主题",
                placeholderMessage: "您的建议或详细内容...",
                msgSuccess: "谢谢您的反馈！学生会已收到您的信息。",
                msgError: "发生错误，请稍后再试。",
                mapLabel: "普拉讪威塔亚学校 (呵叻府四球县)",
                btnMap: "在 Google 地图上查看路线",
                footer: "© 2026 STUDENT COUNCIL OF PRASARNWITTAYA SCHOOL. ALL RIGHTS RESERVED"
            }
        };

        function changeLang(lang) {
            // Update active state for buttons
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`lang-${lang}`).classList.add('active');

            // Update text content
            const data = translations[lang];
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (data[key]) {
                    el.innerHTML = data[key];
                }
            });

            // Update Placeholders
            document.getElementById('inputEmail').placeholder = data.placeholderEmail;
            document.getElementById('inputSubject').placeholder = data.placeholderSubject;
            document.getElementById('inputMessage').placeholder = data.placeholderMessage;
            
            // Store language preference
            localStorage.setItem('preferredLang', lang);
        }

        // Initialize language
        window.onload = () => {
            const savedLang = localStorage.getItem('preferredLang') || 'th';
            changeLang(savedLang);
        };

        async function handleSubmit(event) {
            event.preventDefault();
            const form = document.getElementById('contactForm');
            const successMsg = document.getElementById('successMessage');
            const errorMsg = document.getElementById('errorMessage');
            const btn = form.querySelector('button');
            const btnText = btn.querySelector('span');

            const currentLang = localStorage.getItem('preferredLang') || 'th';
            const loadingText = {
                th: "กำลังส่งข้อมูล...",
                en: "Sending...",
                zh: "正在发送..."
            };

            const targetEmail = "prasarn-student-council@studentcouncil-of-prasarnwittayaschool.online";
            const formData = new FormData(form);
            
            btn.disabled = true;
            btnText.innerText = loadingText[currentLang];
            successMsg.classList.add('hidden');
            errorMsg.classList.add('hidden');

            try {
                const response = await fetch(`https://formspree.io/f/${targetEmail}`, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    form.reset();
                    form.classList.add('hidden');
                    successMsg.classList.remove('hidden');
                } else {
                    throw new Error('Submission failed');
                }
            } catch (error) {
                errorMsg.classList.remove('hidden');
                btn.disabled = false;
                btnText.innerText = translations[currentLang].btnSubmit;
            }
        }
    </script>
</body>
</html>
